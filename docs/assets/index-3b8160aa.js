(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function i(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=i(r);fetch(r.href,n)}})();let o=[],f=23,l=11;function L(){P(),o=[],q(),F(),v()}function q(){for(let e=0;e<f;e++){const t=[];for(let i=0;i<l;i++){const r={isBomb:!1,isFlag:!1,isOpen:!1};t.push(r)}o.push(t)}}function F(){for(let e=0;e<f;e++)o[e][Math.round(Math.random()*(l-1))].isBomb=!0,o[e][Math.round(Math.random()*(l-1))].isBomb=!0,o[e][Math.round(Math.random()*(l-1))].isBomb=!0;o[Math.floor(f/2)][Math.floor(l/2)].isBomb=!1,o[Math.floor(f/2)][Math.floor(l/2-1)].isBomb=!1,o[Math.floor(f/2)][Math.floor(l/2+1)].isBomb=!1,o[Math.floor(f/2-1)][Math.floor(l/2)].isBomb=!1,o[Math.floor(f/2-1)][Math.floor(l/2-1)].isBomb=!1,o[Math.floor(f/2-1)][Math.floor(l/2+1)].isBomb=!1,o[Math.floor(f/2+1)][Math.floor(l/2)].isBomb=!1,o[Math.floor(f/2+1)][Math.floor(l/2-1)].isBomb=!1,o[Math.floor(f/2+1)][Math.floor(l/2+1)].isBomb=!1}function T(e,t){var s,r,n,a,c,m,h,p,d,M,b,B,g,O,w,S;let i=0;return((r=(s=o[e+1])==null?void 0:s[t])==null?void 0:r.isBomb)===!0&&i++,((a=(n=o[e-1])==null?void 0:n[t])==null?void 0:a.isBomb)===!0&&i++,((m=(c=o[e])==null?void 0:c[t+1])==null?void 0:m.isBomb)===!0&&i++,((p=(h=o[e])==null?void 0:h[t-1])==null?void 0:p.isBomb)===!0&&i++,((M=(d=o[e+1])==null?void 0:d[t+1])==null?void 0:M.isBomb)===!0&&i++,((B=(b=o[e-1])==null?void 0:b[t+1])==null?void 0:B.isBomb)===!0&&i++,((O=(g=o[e-1])==null?void 0:g[t-1])==null?void 0:O.isBomb)===!0&&i++,((S=(w=o[e+1])==null?void 0:w[t-1])==null?void 0:S.isBomb)===!0&&i++,i}function v(){const e=document.querySelector(".field");e!==null&&(e.innerHTML=""),e==null||e.setAttribute("style",`grid-template-columns: repeat(${f},1fr); width: ${50*f}px;`);for(let t=0;t<l;t++)for(let i=0;i<f;i++){const s=document.createElement("div");s.className="tile",i===Math.floor(f/2)&&t===Math.floor(l/2)&&s.setAttribute("isMiddle","middle"),s.onclick=()=>u(i,t),s.oncontextmenu=r=>{r.preventDefault(),A(i,t)},e==null||e.appendChild(s),o[i][t].isOpen===!0?(s.setAttribute("isOpen","open"),o[i][t].isBomb===!0?s.innerHTML="ðŸ’£":(s.innerHTML=`${T(i,t)}`,T(i,t)===0&&setTimeout(()=>{$(i,t)},200))):o[i][t].isOpen===!1&&(o[i][t].isFlag===!0?s.innerHTML="ðŸš©":s.innerHTML="")}}function u(e,t){o[e][t].isFlag!==!0&&(o[e][t].isBomb===!0?H(e,t):o[e][t].isOpen===!1&&(o[e][t].isOpen=!0,v()),N())}function A(e,t){o[e][t].isFlag===!1?o[e][t].isFlag=!0:o[e][t].isFlag=!1,v()}function H(e,t){for(let i=0;i<l;i++)if(o[e][t].isBomb===!0){L();const s=document.querySelector("dialog");s&&s.showModal()}}function N(){if(o.every(e=>e.every(t=>t.isOpen===!0||t.isBomb===!0))){const e=document.querySelector(".winText");e&&(e.showModal(),L())}}function P(){const e=document.querySelector("select");e&&(e.value==="small"?(f=11,l=9):e.value==="medium"?(f=23,l=11):(f=37,l=15))}function $(e,t){var i,s,r,n,a,c,m,h,p,d,M,b,B,g,O,w;((s=(i=o[e+0])==null?void 0:i[t+1])==null?void 0:s.isOpen)===!1&&u(e,t+1),((n=(r=o[e+0])==null?void 0:r[t-1])==null?void 0:n.isOpen)===!1&&u(e,t-1),((c=(a=o[e+1])==null?void 0:a[t+1])==null?void 0:c.isOpen)===!1&&u(e+1,t+1),((h=(m=o[e+1])==null?void 0:m[t-1])==null?void 0:h.isOpen)===!1&&u(e+1,t-1),((d=(p=o[e-1])==null?void 0:p[t+1])==null?void 0:d.isOpen)===!1&&u(e-1,t+1),((b=(M=o[e-1])==null?void 0:M[t-1])==null?void 0:b.isOpen)===!1&&u(e-1,t-1),((g=(B=o[e-1])==null?void 0:B[t+0])==null?void 0:g.isOpen)===!1&&u(e-1,t),((w=(O=o[e+1])==null?void 0:O[t+0])==null?void 0:w.isOpen)===!1&&u(e+1,t)}const k=document.querySelector(".start");k.showModal();window.game=L;
